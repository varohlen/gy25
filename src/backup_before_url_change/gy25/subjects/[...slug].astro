---
import { getCollection } from 'astro:content';
import Layout from '../../../layouts/Layout.astro';
import SubjectView from '../../../components/subjects/SubjectView.astro';

export async function getStaticPaths() {
  const subjects = await getCollection('gy25-subjects');
  return subjects.map(subject => ({
    params: { slug: subject.data.code.toLowerCase() },
    props: { subject }
  }));
}

const { subject } = Astro.props;
---

<Layout title={`${subject.data.name} - GY25`}>
  <div class="max-w-4xl mx-auto px-4 mt-8 mb-8">
    <button 
      onclick="window.location.href='/gy25'"
      class="text-blue-600 hover:text-blue-800 flex items-center gap-1 text-sm font-medium"
    >
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
      Tillbaka till Ã¤mnen
    </button>
  </div>
  
  <SubjectView subject={subject} />
</Layout>